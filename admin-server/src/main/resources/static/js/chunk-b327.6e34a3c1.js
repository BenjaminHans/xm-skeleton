(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b327"],{"17d8":function(e,t,r){"use strict";var o=r("dd68"),a=r.n(o);a.a},5083:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"search"},[r("Row",[r("Col",[r("Card",[r("Row",[r("Form",{ref:"searchForm",staticClass:"search-form",attrs:{model:e.searchForm,inline:"","label-width":70}},[r("Form-item",{attrs:{label:"来源单号",prop:"fromSn"}},[r("Input",{staticStyle:{width:"200px"},attrs:{type:"text",clearable:"",placeholder:"来源单号"},model:{value:e.searchForm.fromSn,callback:function(t){e.$set(e.searchForm,"fromSn",t)},expression:"searchForm.fromSn"}})],1),r("Form-item",{attrs:{label:"类型",prop:"type"}},[r("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择类型",clearable:""},model:{value:e.searchForm.type,callback:function(t){e.$set(e.searchForm,"type",t)},expression:"searchForm.type"}},[r("Option",{attrs:{value:"1"}},[e._v("代理奖励")]),r("Option",{attrs:{value:"2"}},[e._v("收货地址奖励")]),r("Option",{attrs:{value:"3"}},[e._v("区域代理奖励")])],1)],1),r("Form-item",{attrs:{label:"状态",prop:"status"}},[r("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择状态",clearable:""},model:{value:e.searchForm.status,callback:function(t){e.$set(e.searchForm,"status",t)},expression:"searchForm.status"}},[r("Option",{attrs:{value:"1"}},[e._v("预分润")]),r("Option",{attrs:{value:"2"}},[e._v("已分润")]),r("Option",{attrs:{value:"3"}},[e._v("已取消")])],1)],1),e.drop?r("span",[r("Form-item",{attrs:{label:"创建时间"}},[r("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"daterange",format:"yyyy-MM-dd",clearable:"",placeholder:"选择起始时间"},on:{"on-change":e.selectDateRange},model:{value:e.selectDate,callback:function(t){e.selectDate=t},expression:"selectDate"}})],1),r("Form-item",{attrs:{label:"收益用户",prop:"name"}},[r("Input",{staticStyle:{width:"200px"},attrs:{type:"text",clearable:"",placeholder:"收益用户"},model:{value:e.searchForm.name,callback:function(t){e.$set(e.searchForm,"name",t)},expression:"searchForm.name"}})],1),r("Form-item",{attrs:{label:"收益手机",prop:"mobile"}},[r("Input",{staticStyle:{width:"200px"},attrs:{type:"text",clearable:"",placeholder:"收益用户手机"},model:{value:e.searchForm.mobile,callback:function(t){e.$set(e.searchForm,"mobile",t)},expression:"searchForm.mobile"}})],1),r("Form-item",{attrs:{label:"下单用户",prop:"fromName"}},[r("Input",{staticStyle:{width:"200px"},attrs:{type:"text",clearable:"",placeholder:"下单用户"},model:{value:e.searchForm.fromName,callback:function(t){e.$set(e.searchForm,"fromName",t)},expression:"searchForm.fromName"}})],1),r("Form-item",{attrs:{label:"下单手机",prop:"fromMobile"}},[r("Input",{staticStyle:{width:"200px"},attrs:{type:"text",clearable:"",placeholder:"下单用户手机"},model:{value:e.searchForm.fromMobile,callback:function(t){e.$set(e.searchForm,"fromMobile",t)},expression:"searchForm.fromMobile"}})],1)],1):e._e(),r("Form-item",{staticClass:"br",staticStyle:{"margin-left":"-35px"}},[r("Button",{attrs:{type:"primary",icon:"ios-search"},on:{click:e.handleSearch}},[e._v("搜索")]),r("Button",{on:{click:e.handleReset}},[e._v("重置")]),r("Button",{attrs:{icon:"md-refresh"},on:{click:e.getProfitLogList}},[e._v("刷新")]),r("a",{staticClass:"drop-down",on:{click:e.dropDown}},[e._v(e._s(e.dropDownContent)+"\n                                "),r("Icon",{attrs:{type:e.dropDownIcon}})],1)],1)],1)],1),r("Row",[r("Table",{ref:"table",attrs:{loading:e.loading,border:"",columns:e.columns,data:e.data,sortable:"custom"},on:{"on-sort-change":e.changeSort,"on-selection-change":e.showSelect}}),r("Table",{ref:"exportTable",staticStyle:{display:"none"},attrs:{columns:e.columns,data:e.exportData}})],1),r("Row",{staticClass:"page",attrs:{type:"flex",justify:"end"}},[r("Page",{attrs:{current:e.searchForm.pageNumber,total:e.total,"page-size":e.searchForm.pageSize,"page-size-opts":[10,20,50],size:"small","show-total":"","show-elevator":"","show-sizer":""},on:{"on-change":e.changePage,"on-page-size-change":e.changePageSize}})],1)],1)],1)],1)],1)},a=[],s=(r("cadf"),r("551c"),r("097d"),r("365c")),l=r("c1df"),i={name:"help-manage",data:function(){return{accessToken:{},loading:!0,editor:"",drop:!1,fullscreen:!1,dropDownContent:"展开",dropDownIcon:"ios-arrow-down",selectCount:0,selectList:[],searchForm:{name:"",mobile:"",fromName:"",fromMobile:"",status:null,type:null,fromSn:"",startDate:"",endDate:""},selectDate:null,modalType:0,helpModalVisible:!1,modalTitle:"",columns:[{title:"收益用户",key:"name",align:"center",sortable:!0},{title:"收益用户ID",key:"id",align:"center",sortable:!0},{title:"收益用户手机",key:"mobile",sortable:!0,align:"center",type:"html"},{title:"收益用户等级",key:"memberLevel",align:"center",render:function(e,t){var r="";return 1===t.row.memberLevel?r="游客":2===t.row.memberLevel?r="会员":3===t.row.memberLevel?r="店长":4===t.row.memberLevel?r="区/县渠道商":5===t.row.memberLevel?r="市级渠道商":6===t.row.memberLevel&&(r="省级渠道商"),e("div",r)}},{title:"金额",key:"money",sortable:!0,align:"center",type:"html"},{title:"下单用户",key:"fromName",sortable:!0,align:"center",type:"html"},{title:"下单用户ID",key:"fromUser",align:"center",sortable:!0},{title:"下单用户手机",key:"fromMobile",sortable:!0,align:"center",type:"html"},{title:"下单用户等级",key:"fromMemberLevel",align:"center",render:function(e,t){var r="";return 1===t.row.fromMemberLevel?r="游客":2===t.row.fromMemberLevel?r="会员":3===t.row.fromMemberLevel?r="店长":4===t.row.fromMemberLevel?r="区/县渠道商":5===t.row.fromMemberLevel?r="市级渠道商":6===t.row.fromMemberLevel&&(r="省级渠道商"),e("div",r)}},{title:"来源订单号",key:"orderSn",sortable:!0,align:"center",type:"html"},{title:"类型",key:"type",align:"center",render:function(e,t){var r="";return 1===t.row.profitType?r="代理奖励":2===t.row.profitType?r="收货地址奖励":3===t.row.profitType&&(r="区域代理奖励"),e("div",r)},filters:[{label:"代理奖励",value:1},{label:"收货地址奖励",value:2},{label:"区域代理奖励",value:2}],filterMultiple:!1,filterMethod:function(e,t){return 1===e?1===t.profitType:2===e?2===t.profitType:3===e?3===t.profitType:void 0}},{title:"状态",key:"status",width:90,align:"center",render:function(e,t){var r="";return 1===t.row.status?r="预分润":2===t.row.status?r="已分润":3===t.row.status&&(r="已取消"),e("div",r)},filters:[{label:"预分润",value:1},{label:"已分润",value:2},{label:"已取消",value:3}],filterMultiple:!1,filterMethod:function(e,t){return 1===e?1===t.status:2===e?2===t.status:3===e?3===t.status:void 0}},{title:"创建时间",key:"createdAt",sortable:!0,width:150,render:function(e,t){return e("div",l.unix(t.row.created_at).format("YYYY-MM-DD HH:mm:ss"))}},{title:"备注",key:"remark",sortable:!0,align:"center",type:"html"}],data:[],exportData:[],total:0}},methods:{init:function(){this.accessToken={accessToken:this.getStore("accessToken")},this.getProfitLogList()},changePage:function(e){this.searchForm.pageNumber=e,this.getProfitLogList(),this.clearSelectAll()},changePageSize:function(e){this.searchForm.pageSize=e,this.getProfitLogList()},selectDateRange:function(e){e&&(this.searchForm.startDate=e[0],this.searchForm.endDate=e[1])},getProfitLogList:function(){var e=this;this.loading=!0,Object(s["O"])(this.searchForm).then(function(t){e.loading=!1,!0===t.success&&(e.data=t.result.records,e.total=t.result.total)})},handleSearch:function(){this.searchForm.pageNumber=1,this.searchForm.pageSize=10,this.getProfitLogList()},handleReset:function(){this.$refs.searchForm.resetFields(),this.searchForm.pageNumber=1,this.searchForm.pageSize=10,this.selectDate=null,this.searchForm.startDate="",this.searchForm.endDate="",this.selectDep=[],this.searchForm.departmentId="",this.getProfitLogList()},changeSort:function(e){this.searchForm.sort=e.key,this.searchForm.order=e.order,"normal"===e.order&&(this.searchForm.order=""),this.getProfitLogList()},handleDropdown:function(e){var t=this;if("exportData"===e){if(this.selectCount<=0)return void this.$Message.warning("您还未选择要导出的数据");this.$Modal.confirm({title:"确认导出",content:"您确认要导出所选 "+this.selectCount+" 条数据?",onOk:function(){t.$refs.exportTable.exportCsv({filename:"分润数据"})}})}else"refresh"===e&&this.getProfitLogList()},dropDown:function(){this.drop?(this.dropDownContent="展开",this.dropDownIcon="ios-arrow-down"):(this.dropDownContent="收起",this.dropDownIcon="ios-arrow-up"),this.drop=!this.drop},showSelect:function(e){this.exportData=e,this.selectList=e,this.selectCount=e.length},clearSelectAll:function(){this.$refs.table.selectAll(!1)}},mounted:function(){this.init()}},n=i,c=(r("17d8"),r("2877")),m=Object(c["a"])(n,o,a,!1,null,null,null);m.options.__file="profitManage.vue";t["default"]=m.exports},dd68:function(e,t,r){}}]);